<!doctype html>
<!--
  Minimal Mistakes Jekyll Theme 4.19.2 by Michael Rose
  Copyright 2013-2019 Michael Rose - mademistakes.com | @mmistakes
  Free for personal and commercial use under the MIT license
  https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE
-->
<html lang="ko" class="no-js">
  <head>
    <meta charset="utf-8">

<!-- begin _includes/seo.html --><title>Linux2_day2 - 개발 끄적끄적</title>
<meta name="description" content="SELinux(Secure Enhanced Linux) 보안이 강화된 리눅스 리눅스의 보안을 강화해주는 보안 강화 커널이고 어플리케이션 취약점으로 인한 해킹을 방지해주는 핵심 구성 요소 ">


  <meta name="author" content="JJanghong">


<meta property="og:type" content="article">
<meta property="og:locale" content="ko_KR">
<meta property="og:site_name" content="개발 끄적끄적">
<meta property="og:title" content="Linux2_day2">
<meta property="og:url" content="https://ictechgy.github.io/linux/Linux2_day2/">


  <meta property="og:description" content="SELinux(Secure Enhanced Linux) 보안이 강화된 리눅스 리눅스의 보안을 강화해주는 보안 강화 커널이고 어플리케이션 취약점으로 인한 해킹을 방지해주는 핵심 구성 요소 ">



  <meta property="og:image" content="https://ictechgy.github.io/assets/images/photo-hangang.jpeg">





  <meta property="article:published_time" content="2020-05-26T00:00:00+09:00">





  

  


<link rel="canonical" href="https://ictechgy.github.io/linux/Linux2_day2/">




<script type="application/ld+json">
  {
    "@context": "https://schema.org",
    
      "@type": "Person",
      "name": "dev blog",
      "url": "https://ictechgy.github.io/"
    
  }
</script>






<!-- end _includes/seo.html -->


<link href="/feed.xml" type="application/atom+xml" rel="alternate" title="개발 끄적끄적 Feed">

<!-- https://t.co/dKP3o1e -->
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="/assets/css/main.css">

<!--[if IE]>
  <style>
    /* old IE unsupported flexbox fixes */
    .greedy-nav .site-title {
      padding-right: 3em;
    }
    .greedy-nav button {
      position: absolute;
      top: 0;
      right: 0;
      height: 100%;
    }
  </style>
<![endif]-->



    <!-- start custom head snippets -->

<!-- insert favicons. use https://realfavicongenerator.net/ -->

<!-- end custom head snippets -->

  </head>

  <body class="layout--single">
    <nav class="skip-links">
  <h2 class="screen-reader-text">Skip links</h2>
  <ul>
    <li><a href="#site-nav" class="screen-reader-shortcut">Skip to primary navigation</a></li>
    <li><a href="#main" class="screen-reader-shortcut">Skip to content</a></li>
    <li><a href="#footer" class="screen-reader-shortcut">Skip to footer</a></li>
  </ul>
</nav>

    <!--[if lt IE 9]>
<div class="notice--danger align-center" style="margin: 0;">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience.</div>
<![endif]-->

    

<div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        
        <a class="site-title" href="/">
          개발 끄적끄적
          <span class="site-subtitle">개발공부</span>
        </a>
        <ul class="visible-links"><li class="masthead__menu-item">
              <a href="/categories/">Categories</a>
            </li><li class="masthead__menu-item">
              <a href="/tags/">Tags</a>
            </li><li class="masthead__menu-item">
              <a href="">About</a>
            </li><li class="masthead__menu-item">
              <a href="/about/"></a>
            </li><li class="masthead__menu-item">
              <a href="">연도별</a>
            </li><li class="masthead__menu-item">
              <a href="/posts/"></a>
            </li></ul>
        
        <button class="greedy-nav__toggle hidden" type="button">
          <span class="visually-hidden">토글 메뉴</span>
          <div class="navicon"></div>
        </button>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>


    <div class="initial-content">
      



<div id="main" role="main">
  
  <div class="sidebar sticky">
  


<div itemscope itemtype="https://schema.org/Person">

  
    <div class="author__avatar">
      
        <img src="/assets/images/photo-avatar.jpeg" alt="JJanghong" itemprop="image">
      
    </div>
  

  <div class="author__content">
    
      <h3 class="author__name" itemprop="name">JJanghong</h3>
    
    
      <div class="author__bio" itemprop="description">
        <p>공부중입니다.</p>

      </div>
    
  </div>

  <div class="author__urls-wrapper">
    <button class="btn btn--inverse">팔로우</button>
    <ul class="author__urls social-icons">
      
        <li itemprop="homeLocation" itemscope itemtype="https://schema.org/Place">
          <i class="fas fa-fw fa-map-marker-alt" aria-hidden="true"></i> <span itemprop="name">Republic of Korea</span>
        </li>
      

      
        
          
            <li><a href="mailto:ictechgy@gmail.com" rel="nofollow noopener noreferrer"><i class="fas fa-fw fa-envelope-square" aria-hidden="true"></i><span class="label">Email</span></a></li>
          
        
          
        
          
        
          
        
          
            <li><a href="https://github.com/ictechgy" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-github" aria-hidden="true"></i><span class="label">GitHub</span></a></li>
          
        
          
        
      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      <!--
  <li>
    <a href="http://link-to-whatever-social-network.com/user/" itemprop="sameAs" rel="nofollow noopener noreferrer">
      <i class="fas fa-fw" aria-hidden="true"></i> Custom Social Profile Link
    </a>
  </li>
-->
    </ul>
  </div>
</div>

  
  </div>



  <article class="page" itemscope itemtype="https://schema.org/CreativeWork">
    <meta itemprop="headline" content="Linux2_day2">
    <meta itemprop="description" content="SELinux(Secure Enhanced Linux) 보안이 강화된 리눅스리눅스의 보안을 강화해주는 보안 강화 커널이고 어플리케이션 취약점으로 인한 해킹을 방지해주는 핵심 구성 요소">
    <meta itemprop="datePublished" content="2020-05-26T00:00:00+09:00">
    

    <div class="page__inner-wrap">
      
        <header>
          <h1 id="page-title" class="page__title" itemprop="headline">Linux2_day2
</h1>
          
            <p class="page__meta"><i class="far fa-clock" aria-hidden="true"></i> 




  11 분 소요

</p>
          
        </header>
      

      <section class="page__content" itemprop="text">
        
        <p>SELinux(Secure Enhanced Linux) 보안이 강화된 리눅스
리눅스의 보안을 강화해주는 보안 강화 커널이고 어플리케이션 취약점으로 인한 해킹을 방지해주는 핵심 구성 요소</p>

<p>다시 말하면, 잘못된 설정이나 프로그램의 보안 버그로 인해 시스템이 공격당해도 시스템과 데이터를 보호하고 2차 피해를 막기 위함</p>

<p>사용했을 때 좋은점은,
사전 정의된 접근 통제 정책 탑재
“Deny All, Some Permit” 정책으로 잘못된 설정을 최소화 시킬 수 있음
권한 상승 공격에 의한 취약점 감소
여러 버그로부터 시스템을 보호 가능</p>

<p>한계점
모든 보안 요소가 충족되는 것은 아니다.(완전 안전한 것은 아님)
백신이 아니므로 여러 보안 요소들과 함께 사용해야한다.</p>

<p>관련된 파일과 명령어들이 있다.
/etc/selinux/config
selinux의 원본 파일</p>

<p>/etc/sysconfig/selinux
selinux의 심볼릭 링크파일(바로가기)</p>

<p>[root@ljck2 ~]# ls -l /etc/selinux/config
-rw-r–r–. 1 root root 546  5월 12 12:38 /etc/selinux/config
[root@ljck2 ~]# ls -l /etc/sysconfig/selinux
lrwxrwxrwx. 1 root root 17  5월 12 11:47 /etc/sysconfig/selinux -&gt; ../selinux/config</p>

<p>vi /etc/selinux/config 해보자(또는 vi /etc/sysconfig/selinux)
들어가면 세가지 값 중 하나를 설정할 수 있다고 나와있다.</p>

<p>3가지의 값
1) enforcing(기본값)
시스템 보안 정책에 위배되는 모든 행동들은 아예 그 기능이 작동되지 않도록 시스템에서 차단(뭘 하려고 해도 정책에 위반되거나 정책이 꺼져있으면 작동 불가)</p>

<p>2) permissive
시스템 보안 정책에 위배되는 행동들이 감지되면 차단하지 않고 그 내용이 화면에 출력(경고메시지처럼. 로그도 남는다.)</p>

<p>3) disabled
selinux의 정책을 로드하지 않겠음(비활성화)</p>

<p>selinux를 끄면 편하긴 하지만 보안에 취약
켜두고 정책을 계속 일일히 업데이트를 해주는게 불편하기는 해도 보안에 좋다.
기본적으로 linux를 설치하면 selinux는 enforcing되어있다.
압축 푼 것은 disabled 되어있음(만드신 선생님이 꺼둠). 우리가 직접 설치한 것은 켜져있다.</p>

<p>selinux의 동작모드 확인(위처럼 파일로 확인도 가능하긴 하지만 명령어로 확인해보자)</p>

<p>사용형식
getenforce</p>

<p>selinux의 동작모드를 설정</p>

<p>사용형식
setenforce argument(인자값)</p>

<p>인자값의 종류
0 : permissive (제한적인 통과가능방식)
1 : enforcing (완전히 제한적)</p>

<p>기본적으로 SELinux 상태가 disabled 되어있으면 이 명령어는 먹히지 않는다.
즉 현재 server머신 에서는 먹히지 않고 client 머신에서만 먹힌다.
→ server머신에서 setenforce 0 또는 setenforce 1 을 입력하면 sentence : SELinux is disabled 라는 메시지가 뜬다. client머신에서는 잘 변경이 이루어진다.</p>

<p>selinux의 동작상태 (상세)확인</p>

<p>사용형식
sestatus
→ selinux 상태와 마운트지점, 루트디렉토리, 정책명 등이 나온다. server머신에서는 그냥 Disabled만 뜸</p>

<p>selinux의 정책 목록 확인(SELinux 구동시 사용하는 정책 목록)</p>

<p>사용형식
getsebool [option]
→ get selinux bool</p>

<p>option
-a : all   모든 정책 불러오기</p>

<p>역시나 server 컴에서는 Disabled되어있으므로 사용 불가능</p>

<p>client머신에서 쳐보면 나오긴 나오는데 너무 길어서 잘려서 나옴
getsebool -a | more</p>

<p>주로 off가 많다. 이는 막혀있는 상태를 의미한다. 정책이 꺼져있으며 해당 정책을 사용하는 통신은 불가능하다. 켜줘야 함</p>

<p>ftp에 관련된 정책을 봐보자 
getsebool -a | grep ftpd
→ 다 off되어있다. 기본적으로 ftp서버 막힌 상태임. 이 상태에서는 ftp를 통한 접근이 불가능하다.</p>

<p>selinux의 정책 설정</p>

<p>사용 형식
setsebool [option] 항목(서비스하고자 하는 정책 명) on(또는 off)</p>

<p>setsebool ftpd_use_passive_mode on 을 입력하고
getsebool -a | grep ftpd 쳐보면 이전까지 꺼져있던 정책이 켜지게 됨</p>

<p>이 상태에서 reboot을 해보자. 정책이 변할까 안변할까
껐다 키고 getsebool -a | grep ftpd
원래대로 돌아왔다.</p>

<p>서버를 끄지 않는 이상 변경사항은 지속된다.
근데 껐다 키면 원래대로 돌아오는데, 영구적으로 변하지 말라고 쓰는 옵션이 있다.</p>

<p>option
-P(대문자) : 영구적(시스템을 재부팅하여도 설정값이 변하지 않고 유지되도록) permanent</p>

<p>setsebool -P ftpd_use_passive_mode on
프롬프트가 조금 느리게 뜬다.</p>

<p>getsebool -a | grep ftpd 로 확인 후 reboot하고 다시 확인해보자
→ 이번에는 시스템을 껐다 켜도 정책은 계속 켜져있는 상태이다.</p>

<p>putty통신과 관련해서도 막을 수 있을까?</p>

<p>리눅스 서비스 연습을 할 때에는 SELinux Disabled해놓는 것이 편하지만 실제로 서비스를 할 때에는 켜두고 정책을 다 설정 하는 것이 보안에 좋다.</p>

<p>수업편의를 위해 client것도 Disabled시키자
끄는 것은 명령어가 없으므로 vi로 편집해야 한다. 원본이나 바로가기파일을 vi로 켜서 편집하자
vi /etc/selinux/config 또는 vi /etc/sysconfig/selinux
들어가서 :se nu로 넘버링 하고 insert모드로 들어가자.
이전값이 뭐였을지 모르면 이전값(7번째 줄)에 #을 넣자. 주석으로서 컴퓨터가 인식을 못한다.
그 상태에서 한줄 밑에 만들고(8번째 줄) SELINUX=disabled 입력하자. SELINUX라는 부분은 모두 대문자로 작성해주어야 한다.(복사붙여넣기 해도 됨. 명령모드에서 dd는 잘라내기, yy는 yank 확 끌어당기다 - 로서 복사 이며 p는 paste로 붙여넣기임. 붙여넣기 시 커서 아랫줄에 새 줄을 만들면서 붙여넣기 한다.)</p>

<p>:wq 로 저장 후 종료한다.</p>

<p>selinux를 껐는데.. 이를 반영시키려면 시스템을 껐다가 켜야한다.
리붓 안하면 getenforce했을시 아직도 Enforcing 뜸
리붓하고 다시 확인해보자. disabled되어있다.</p>

<p>이제 client머신도 disabled 시켰으니 스냅샷 찍자
poweroff 시키고 snapshot 찍자
server와 client 둘 다 스냅샷</p>

<p>server
Name:서버_마지막
Description:한것은 없지만 그냥 클라이언트와 같이 찍음</p>

<p>client
Name : 클라이언트_마지막
Description : yum update완료
selinux를 enforcing에서 disabled로 변경</p>

<p>네트워크설정을 해보자
리눅스 1때에는 NAT(Network Address Translation)설정을 했었다.
VMware의 Virtual Network Editor의 값을 가지고 그래픽환경에서 설정을 했었음(고정IP설정하는 것을 해보았었다)</p>

<p>NAT는 사설IP와 공인IP를 서로 번역시켜주는 중계자 역할을 한다.</p>

<p>이 고정IP부여하기를 
그래픽으로 하기, 명령어로 하기, 관련설정파일 편집으로 하기 → 를 해볼 것임</p>

<p>내일은 네트워크 관련 명령어</p>

<p>ip주소체계와 사용가능 범위, 주소번호값의 부여 이유와 원리 등 보자</p>

<p>우리가 쓰는 ip는 ipv4로서 버전4이다. 이전의 버전도 있지만 인터넷이 보급되면서 쓰게 된 주소체계가 ipv4이다. 
ipv4 는 0.0.0.0 ~ 255.255.255.255 까지의 주소를 부여할 수 있다. 10진법으로 보면 저렇지만 실질적으로는 00000000.00000000.00000000.00000000 ~ 11111111.11111111.11111111.11111111 까지 사용 가능한 것이다. 즉 한 자리 당 0 또는 1을 표현 가능하니 2를 32번 곱한 2의 32승자리를 표현 가능한 것이다.(약 42억개?)
비트수로 따지자면 32비트이며 바이트로는 4바이트이다.(1Byte = 8bit). 가운데의 온점을 기준으로 옥텟이라고 나누는데 4옥텟이라고도 볼 수 있다.</p>

<p>그런데 이렇게 각각의 정보통신기계에 ip를 부여를 할 때 단순하게 숫자를 마구 부여하지 않는다. 현재 정보통신 방식은 CSMA/CD 방식을 쓰는데 이는 Carrier Sense Multiple Access/Collision Detection 의 약어로서 회선이 비어있을때 눈치껏 재빨리 내 데이터를 전송하자 라는 방식이다. 이는 이전의, 차례를 기다려서 통신을 하는 방식이나 토큰링 등의 방식보다 전송속도가 빨라서 주로 쓰게 되었다. 무튼 이러한 것을 통해 이루어지는 통신은 브로드캐스트로서 불특정 다수에게 통신이 이루어지는 것이다. 많은 기기에 내 정보를 받을 대상이 너냐? 라고 물어보고 맞는 사람만 받는 방식이라는 것이다.</p>

<p>하지만 이 방식이 되면서 문제점이 생겼는데, 데이터 통신 주체(노드)가 많아질 수록 트래픽 감당이 안된다는 것이다. 하나의 컴퓨터에서 데이터를 전송하는데에도 ‘나’를 제외한 모든 컴퓨터들에게 데이터를 보내본다는 것이다.</p>

<p>따라서 이와같은 경우를 막기 위해 IP주소에 의미를 부여한 것으로 보인다. (Network ID를 담당하는 부분과 Host ID를 담당하는 부분) 
하나의 네트워크를 공유하고 있는데 그 안에서 세부 기기가 나뉜다면 같은 Network ID 숫자를 쓰되 개별적 Host ID는 다 다른 식으로 말이다.
이렇게 만들면 데이터를 전송 할 때 굳이 모든 대상에 전송하는게 아니라 목적지 IP에 해당하는 Network ID 를 가진 쪽으로만 데이터를 보내고.. 그쪽에서는 자기 하위에 있는 모든 노드들에게만 데이터를 전송시켜보는 방식이 되는 것 같다.</p>

<p>근데 이렇게 나누다보니까 클래스라는 것을 만들어서 관리하는 것 같다.
A B C D E 클래스가 있다.</p>

<p>우리가 쓸 수 있는 것은 A, B, C 클래스이다.(반, 반의 반, 반의반의 반)
D와 E는 우리가 쓰는 것이 아님. 다른 목적으로 빠져 있다.
D클래스는 멀티캐스트를 위해 빠져있다. 우리가 쓰고 있는 것은 브로드캐스트(불특정 다수 통신)</p>

<p>브로드캐스트
1 ~ 10명의 사람이 있다고 치자. 9번이라는 사람을 찾기 위해 모든 사람에게 다 통신해서 물어보는 조금 비효율적 통신</p>

<p>멀티캐스트는 그룹 방송용. 그룹으로 모아놓은 사람과의 통신을 위함</p>

<p>E는 미래 예약용
<img src="https://user-images.githubusercontent.com/39452092/82834702-d6264180-9efc-11ea-8306-c79dc859fde1.png" alt="sK66PLdzCEX6DmBo-dkwp0w" /></p>

<p>IP를 클래스로 만들어 분할하여 관리를 하자고 했을때 반씩 쪼개서 관리를 하기로 하게 되었다. 
일단 전체 숫자를 반으로 쪼개야 하는데 이는 2진법 체계로 IP주소를 바라 볼 때, 맨 앞 옥텟의 맨 앞 비트(2의 7승부분)가 1로 시작하느냐 그렇지 않느냐로 나누게 되었다.</p>

<p>A부분은 0으로 시작하는 영역이 되었으며 그 외의 왼쪽 부분은 1로 시작한다.
따라서 A 클래스에 해당하는 IP는 00000000.00000000.00000000.00000000 ~ 01111111.11111111.11111111.11111111 까지의 자리를 표현 가능하다. 이는 10진법으로는 0.0.0.0 ~ 127.255.255.255 까지이다.</p>

<p>이제 왼쪽을 살펴보자. 왼쪽부분에 있어서는 맨 앞자리는 무조건 1로 시작하는 것으로 지정을 해뒀다. 근데 왼쪽부분끼리도 영역을 나누어야 한다. 왼쪽 영역에서 반을 또 쪼갠 것이 B인데 이번에는 두번째 자리에 0이 오느나 1이 오느냐로 나누기로 약속하였다.
B는 두번째 자리에 0이 오는 IP 클래스이다.
따라서 10000000.00000000.00000000.00000000 ~ 10111111.11111111.11111111.11111111 까지 표현 가능하다. 이는 10진법으로는 128.0.0.0 ~ 191.255.255.255 이다.</p>

<p>이제 남은 부분을 보자. 2진수 IP체계에서 맨 앞자리도 1로 시작하고 두번째 자리도 1로 시작한다. 그 부분에서 또 반으로 쪼갰다.
C클래스는 세번째 자리가 0으로 이루어진 부분을 담당한다. 따라서
11000000.00000000.00000000.00000000 ~ 11011111.11111111.11111111.11111111 까지를 표현 가능하다. 이는 10진법으로는 192.0.0.0 ~ 223.255.255.255 까지 표현 가능하다.</p>

<p>나머지부분은 당연히 세번째자리까지도 1로 시작하는 숫자부분을 담당하게 된다.</p>

<p>IP주소체계 →    IPv4(8비트X4자리=32비트) 		IPv6(16비트X8자리=128비트)</p>

<p>네트워크 ID와 호스트 ID 그리고 subnet mask에 대하여.</p>

<p>이전에 말했듯이 어느 일정 네트워크상에 소속이 되어있다면 동일한 네트워크 ID를 가지도록 만들었다고 했다. 이래야 불필요한 통신을 어느정도는 줄일 수 있다. 
하나의 네트워크상에서는 이제 호스트ID만을 다르게 해서 기기들을 서로 구분한다.</p>

<p>그리고 그 네트워크 ID와 호스트 ID를 구분할 수 있게 해주는 것이 Subnet Mask이다.</p>

<p>네트워크 ID는 사람의 성, 호스트 ID는 이름과 비슷하다고 보면 된다. 네트워크 ID는 변경 불가능하지만 호스트 ID는 되는 번호가 있다면 내가 바꿀 수 있다.</p>

<p>Class A는 네트워크ID부분이 맨 앞 하나의 옥텟만으로 구성시키며(맨 앞 비트의 0은 고정이므로 사실 7자리) 이에 따라 서브넷마스크는 255.0.0.0 이 된다. 나머지 부분 두번째~ 네번째 옥탯은 호스트ID로서 쓸 수 있다.</p>

<p>A클래스는 Host Id를 2의 24승(남은 옥텟 3개이며 2의 8승 이 세개) 쓸 수 있으므로 대기업에서 주로 씀</p>

<p>Class B 는 128.0.0.0 ~ 191.255.255.255 까지 쓸 수 있었다. 네트워크 ID는 맨 앞의 옥텟에서 가장 앞의 1과 0을 제외하고 첫번째 옥텟과 두번째 옥텟까지이다. 뒤의 두 자리는 호스트 ID이다. 쓸 수 있는 경우의 수는 이제 2의 16승이 된다.
중소기업용</p>

<p>Class C는 192.0.0.0 ~ 223.255.255.255 까지 쓸 수 있다. 네트워크 ID는 맨 앞자리의 110을 제외하고 세번째 옥텟까지이다. 남은 네번째 옥텟이 호스트 ID로서 쓸 수 있는 부분이다. 2의 8승으로서 256가지의 경우의 수가 나온다.</p>

<p>왜 클래스가 뒤로 갈수록 네트워크 ID 인식부분이 한 옥텟씩 늘어나느냐? 
늘어나게 안만들어놓으면 A,B,C 클래스 모두 맨 앞 고정자리를 제외한 옥텟을 보게 되는데 당연히 중복될 수밖에 없는 것 아닌가? 마치 생선처리업체가 있다고 쳤을 때 생선 전부 손질가능한 사람과 몸통부터 손질 가능한 사람, 꼬리부터 손질 가능한 사람만을 한 자리에 둔것과 같은..?</p>

<p>위의 모든 것은 공인 IP이다. 하지만 저 안에서도 쓸 수 없는 것이 있음
모든 컴퓨터는 루프백 IP 127.0.0.1을 미리 가지고 있다.(A Class에 해당)
또한 모든 클래스마다 사설IP로서의 구간을 따로 두고 있다.</p>

<p>VMware(DHCP에 의한 유동 IP사용) NAT</p>

<p>선생님의 IP는 192.168.52.0 과 같은 꼴인데 이는 C class이며 맨 뒷자리만 변경 가능하다.
하지만 0은 사용 불가능. 대표 IP로서 잡혀있다. (Network ID)
255또한 사용 불가능하다. 브로드캐스트로 되어있음</p>

<p>1은 DHCP 서비스로 잡혀있어서 사용 불가능
Dynamic Host Configuration Protocol → IP 자동 관리
자동으로 관리해주므로 IP주소가 계속 바뀔 수 있다. 
NAT와 같이, 공유기나 모뎀에 달려있음(DHCP는 할당해주는 것, NAT는 사설IP와 공인 IP를 서로 상호변환시켜주는 것임)</p>

<p>DHCP가 공격을 받을 경우 각각의 기기들에게 IP 할당을 못해주므로 그런 때에는 인터넷이 되지 않을 수 있다. 고정IP를 쓴다면 인터넷은 지속적으로 될 것
많은 사람이 잠깐만 쓰고 가는 공공장소의 경우 IP할당만 이루어지고 수거가 제때 이루어지지 못해서 다른 사람이 IP주소를 못 받는 경우가 생길 수도 있다.</p>

<p>2는 Gateway 통신하는 문임
변경은 가능한데 기본값으로 잡혀있다. 물론 DHCP에 해당하는 1번도 변경은 가능하긴 하다.</p>

<p>이외의 나머지 IP를 Host ID로 마음대로 쓸 수 있다.(VMware 내에서는)</p>

<p>따라서 VMware에서는 HOST ID에서 0~255 중 0,1,2,255를 뺀 252개를 쓸 수 있다.</p>

<p>공인IP(고정, static)</p>

<p>공인 IP도 쓸 수 없는 값이 있다.(10진수 기준)
0 대표 ID		→ 어느 옥텟에도 0이라는 숫자는 들어갈 수 없는건가
255 브로드캐스트
254 Gateway
이 외의 숫자값은 쓸 수 있다.</p>

<p>리눅스에서 그냥 네트워크로 쓸 수 있는 IP가 몇개냐고 한다면 0과 255 → 2개를 빼면 되고 인터넷이라는 말이 나오면 게이트웨이 254까지 포함해서 3개를 빼야 함
랜과 같은 내부네트워크에서는 게이트웨이가 필요가 없는건가. 그러면 그 상황에서는 0과 255를 제외한 값을 쓰면 되고 인터넷이 필요 할때 게이트웨이 번호또한 필요하다면 254 또한 쓰면 안될 것이다.</p>

<p>내일 네트워크 설정 할 것</p>

<p><img src="https://user-images.githubusercontent.com/39452092/82834729-eb02d500-9efc-11ea-8594-ca1838bacae6.jpg" alt="unnamed" />
<img src="https://user-images.githubusercontent.com/39452092/82834732-eccc9880-9efc-11ea-86e5-198efe653f7f.jpg" alt="unnamed (1)" /></p>

<p>사설IP부분에 대해서.
→ 공인 IP중에서 저 사설IP에 해당하는 부분은 쓰지 않기로 약속했다. 라우터나 스위치등의 기계에 다른 공인 IP를 하나 부여하고 그 내부에서는 따로 DHCP등을 통해 사설 IP등을 할당시키도록 만들었는데 이는 부족한 IP를 보완하기 위함이기도 하다.(보안의 강화까지 생기긴 했다. 정확한 기기 IP를 한번에 알 수가 없게 됨)
192.1.1.1 이라는 C class에 해당하는 공인 IP를 가지고 있는 기기에 여러 컴퓨터가 연결되어 있다고 치자. 하위에 192.168.0.0 ~ 192.168.255.255 사이의 값을 부여해주었다고 가정하면 공인 IP하나로 여러대를 쓸 수 있는 것이다. 물론 사설 IP에 해당하는 영역을 빼놓았으니 그만큼 공인IP를 더 못쓰는 것 같지만.. 192.2.2.2 를 쓰는 공인 IP에 또 여러 컴퓨터들을 연결시켜 놓고.. 뭐 이게 많아지면 더 효율적인 사용 방식이 된다. (물론 하나의 공인 IP 내에서 컴퓨터를 겁나게 많이 연결시켜놓는다고도 봤을때에도 효율적인것은 마찬가지이다)</p>

<p>만약에 위에서 규칙을 깨고 공인 IP로 192.168로 시작하는 192.168.1.1. IP를 누가 그냥 쓴다고 치자. 
그럼 데이터가 전송 될 때 사실상 저 IP를 가지고 있는 기기는 엄청나게 많은데 어디에 데이터를 던져야 하는가?
사설 IP를 쓴다고 해도 사실 공인 IP와 섞여서 쓰이긴 할거다. 특정 데이터에 대해 192.1.1.1 이라는 공인 IP를 따라가서 그 안에서 192.168.123.123을 찾아가 하는 식으로 말이다. 
다른 데이터는 192.2.2.2 공인 IP를 따라가서 그 안에서 192.168.123.123 를 찾아가라고 할 수도 있는 것이다. 이런 변환은 NAT가 해준다.</p>

<p>따라서 IP변경에 대해서 내가 원하는 IP를 쓰고 싶다면 공인 IP부분은 내가 어떻게 할 수 없는 경우가 많고(서비스 업체쪽이 관리 할 것이다.).. 사설IP에 있어서 DHCP 에 의한 자동 부여를 중단하고 같은 네트워크상에서 중복되지 않는 IP를 찾아서 쓰면 된다. 단! 이 때에도 막 숫자 다 쓸 수 있는 것은 아니고 역시나 클래스에 맞는 사설 IP구간 내에 포함이 되어야 하며… 네트워크ID부분이 아닌 Host ID에 대한 부분만을 변경 할 수 있다는 것을 명심하자</p>

<p>공유기를 쓰지 않고 인터넷에 바로 연결하면 이는 공인IP를 쓰는 것이라고 한다..(오호?) 다만 이는 보안에 취약하므로 방화벽등의 보안장비가 필요하다고 한다.
가상IP, 즉 사설IP는 외부에 직접적으로 공개되는 것이 아니라서 외부에서 검색과 접근이 근본적으로는 불가능하다고 한다. (공인 IP를 가지고 있는 공유기를 따라와서 각각의 개별 기기에 또 접근을 해야하는.. 두번의 과정을 거쳐야 함)</p>

<p>예시를 한번 들어보겠다.
KGITBANK는 SKT BroadBand 인터넷 업체를 이용한다고 치자. 해당 업체로부터 학원은 공인 IP를 하나 받았다. C class에 해당하는 공인 IP 192.1.1.1 을 받았다고 한다.
이를 토대로 학원은 각종 스위치와 공유기를 설치하기 시작한다. (대표 스위치만 저 공인 IP를 가지고 있게 됨)층별로 나누고 반별로 공유기를 나누었다. 그러면 일단은 그 하위의 모든 기기는 192.168로 시작하는 IP를 가지고 있을 것이다.(하위의 다른 공유기나 스위치또한 모두)
같은 반끼리는 네트워크 ID부분까지는 모두 동일하게 설정한다고 한다. 리눅스 2 수업이 열리는 502호는 192.168.52.~ 의 네트워크 ID를 쓰도록 부여를 받았고 그 내부의 컴퓨터는 host ID부분은 자유롭다고 한다.
그 옆반인 501호는 192.168.12.~ 의 네트워크 ID를 쓰도록 부여받았다고 한다.
⇒ 내 이런 가정 예시가 옳은 건가? 흠</p>

<p>서브네팅에 대해서.
서브넷마스크는 클래스를 구분하기 위해서도 쓰이고 네트워크 ID와 호스트 ID 부분을 구분하는데에도 쓰인다.
서브네팅은 뭔지 정확히 잘 모르겠다. IP를 잘게 쪼개서 쓸 때 하는거라는데..
prefix? 인가 뭔가 그거가지고 하고 뭐 잘 모르겠다..
서브넷마스크가 기본적으로 255와 0으로 이루어져 있긴 한데 부분망이라고 해서 255와 0 이외의 값을 가질수도 있는 것 같다. 네트워크 ID부분을 더 확장할 때 이용이 되는 것 같은데..
예를 들어 서브넷마스크가 255.255.255.128 이라면 이는 기존의 255.255.255.0에서 네번째 옥텟 중 2진수로 봤을 때 맨 앞자리 1비트 하나까지도 네트워크 ID라는거고.. 그러면 Host ID는 그 뒤의 7비트 자리인건가? 이렇게 쪼개서 쓸 때 사용하는건가? 마치 IP를 클래스단위로 쪼개서 썼던 것처럼? 이제 그러면 맨 마지막 옥텟자리에서 맨 앞이 1이냐 0이냐에 따라  네트워크가 달라지는 것을 의미하게 되는건가</p>

<p>잘 모르겠다 아직</p>

<p>위키백과보면 호스트식별자 ID쪽을 또 분리함으로서 부분망을 만드는 것이라고 한다. 위의 내 생각이 맞는 것 같긴 한데..</p>

<p>https://ko.wikipedia.org/wiki/부분망 참고</p>

<p>아무튼간 기본적으로 존재하는 클래스에 의한 서브넷 마스크 뿐만아니라 내가 추가적으로 네트워크 ID부분을 늘리고 네트워크를 구분하고자 할 때 서브넷 마스크를 쓰는 것 같다. 
C 클래스 기준으로, 네번째 옥텟에서 맨 앞 비트자리수가 1이냐 0이냐에 따라 네트워크를 구분하고자 한다면 255.255.255.128이 서브넷마스크가 되겠지.
네트워크는 두개로 나뉘고, 각각의 네트워크당 호스트 ID는 2의 7승 개씩 생성가능한 방식으로.</p>

<p>만약 255.255.255.192 가 된다면 이는 네번째 옥텟의 두번째 비트자리까지 네트워크 ID로 만들겠다는 거고.. 이 상태에서는 00 01 10 11 네개의 네트워크 ID 를 추가적으로 만들 수 있는거고.. 그럼 나머지 2의 6승이 host ID 가능 범위가 될 것이다. 물론 네트워크 ID가 4개니까 총 갯수로는 2의 6승 X 4 이 되겠지.
뭐 결국 2의 8승으로서 네트워크를 추가적으로 쪼개든 안쪼개든 갯수는 동일하지만 어떤 이점이 있으므로 쓰는 것이겠지?</p>

<p>그리고 이렇게 IP주소와 서브넷마스크를 AND 연산하여 나온 주소를 네트워크 접두사라고 한다. 즉 네트워크ID부분을 말한다. 
그리고 호스트부분은 네트워크 ID부분을 제외한 나머지 부분이다.</p>

        
      </section>

      <footer class="page__meta">
        
        


  


  
  
  

  <p class="page__taxonomy">
    <strong><i class="fas fa-fw fa-folder-open" aria-hidden="true"></i> 카테고리: </strong>
    <span itemprop="keywords">
    
      
      
      <a href="/categories/#linux" class="page__taxonomy-item" rel="tag">Linux</a>
    
    </span>
  </p>


        
          <p class="page__date"><strong><i class="fas fa-fw fa-calendar-alt" aria-hidden="true"></i> 업데이트:</strong> <time datetime="2020-05-26T00:00:00+09:00">May 26, 2020</time></p>
        
      </footer>

      <section class="page__share">
  
    <h4 class="page__share-title">공유하기</h4>
  

  <a href="https://twitter.com/intent/tweet?text=Linux2_day2%20https%3A%2F%2Fictechgy.github.io%2Flinux%2FLinux2_day2%2F" class="btn btn--twitter" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="공유하기 Twitter"><i class="fab fa-fw fa-twitter" aria-hidden="true"></i><span> Twitter</span></a>

  <a href="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fictechgy.github.io%2Flinux%2FLinux2_day2%2F" class="btn btn--facebook" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="공유하기 Facebook"><i class="fab fa-fw fa-facebook" aria-hidden="true"></i><span> Facebook</span></a>

  <a href="https://www.linkedin.com/shareArticle?mini=true&url=https%3A%2F%2Fictechgy.github.io%2Flinux%2FLinux2_day2%2F" class="btn btn--linkedin" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="공유하기 LinkedIn"><i class="fab fa-fw fa-linkedin" aria-hidden="true"></i><span> LinkedIn</span></a>
</section>


      
  <nav class="pagination">
    
      <a href="/linux/Linux2_day19/" class="pagination--pager" title="Linux2_day19
">이전</a>
    
    
      <a href="/linux/Linux2_day20/" class="pagination--pager" title="Linux2_day20
">다음</a>
    
  </nav>

    </div>

    
  </article>

  
  
    <div class="page__related">
      <h4 class="page__related-title">참고</h4>
      <div class="grid__wrapper">
        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
      <div class="archive__item-teaser">
        <img src="/assets/images/photo-hangang.jpeg" alt="">
      </div>
    
    <h2 class="archive__item-title" itemprop="headline">
      
        <a href="/swift/rxswift/Swift-nil/" rel="permalink">Swift(스위프트) nil에 대한 기록 with RxSwift
</a>
      
    </h2>
    
      <p class="page__meta"><i class="far fa-clock" aria-hidden="true"></i> 




  1 분 소요

</p>
    
    <p class="archive__item-excerpt" itemprop="description">Swift를 다시 공부하던 도중 기록하면 좋을만한 부분이 있어서 작성한다.
</p>
  </article>
</div>

        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
      <div class="archive__item-teaser">
        <img src="/assets/images/photo-hangang.jpeg" alt="">
      </div>
    
    <h2 class="archive__item-title" itemprop="headline">
      
        <a href="/python-map/" rel="permalink">파이썬 Map 함수는 중첩해서 쓸 수 있을까? (Python Map)
</a>
      
    </h2>
    
      <p class="page__meta"><i class="far fa-clock" aria-hidden="true"></i> 




  2 분 소요

</p>
    
    <p class="archive__item-excerpt" itemprop="description"> 

Python Map함수는 중첩이 가능할까?
</p>
  </article>
</div>

        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
      <div class="archive__item-teaser">
        <img src="/assets/images/photo-hangang.jpeg" alt="">
      </div>
    
    <h2 class="archive__item-title" itemprop="headline">
      
        <a href="/rxswift/error/" rel="permalink">signal과 driver 그리고 error handling에 대하여(RxSwift)
</a>
      
    </h2>
    
      <p class="page__meta"><i class="far fa-clock" aria-hidden="true"></i> 




  4 분 소요

</p>
    
    <p class="archive__item-excerpt" itemprop="description">이 글을 읽기 전 eungding님의 블로그와 Rhyno님의 블로그글을 참고해보자.
</p>
  </article>
</div>

        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
      <div class="archive__item-teaser">
        <img src="/assets/images/photo-hangang.jpeg" alt="">
      </div>
    
    <h2 class="archive__item-title" itemprop="headline">
      
        <a href="/rxswift/take/" rel="permalink">take Operator에 대하여(RxSwift)
</a>
      
    </h2>
    
      <p class="page__meta"><i class="far fa-clock" aria-hidden="true"></i> 




  4 분 소요

</p>
    
    <p class="archive__item-excerpt" itemprop="description">flatMap에서 take를 써야하는 경우
단도직입적으로 말하자면 아래와 같은 경우에는 반드시 써야한다.
_ = button.rx.tap.debug("TAP")
            .flatMap {
                return BehaviorRelay(value: ...</p>
  </article>
</div>

        
      </div>
    </div>
  
  
</div>

    </div>

    

    <div id="footer" class="page__footer">
      <footer>
        <!-- start custom footer snippets -->

<!-- end custom footer snippets -->
        <div class="page__footer-follow">
  <ul class="social-icons">
    
      <li><strong>팔로우:</strong></li>
    

    
      
        
      
        
      
        
          <li><a href="https://github.com/ictechgy" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-github" aria-hidden="true"></i> GitHub</a></li>
        
      
        
      
        
      
        
      
    

    <li><a href="/feed.xml"><i class="fas fa-fw fa-rss-square" aria-hidden="true"></i> 피드</a></li>
  </ul>
</div>

<div class="page__footer-copyright">&copy; 2021 dev blog. Powered by <a href="https://jekyllrb.com" rel="nofollow">Jekyll</a> &amp; <a href="https://mademistakes.com/work/minimal-mistakes-jekyll-theme/" rel="nofollow">Minimal Mistakes</a>.</div>

      </footer>
    </div>

    
  <script src="/assets/js/main.min.js"></script>
  <script src="https://kit.fontawesome.com/4eee35f757.js"></script>







    
  <script>
    var disqus_config = function () {
      this.page.url = "https://ictechgy.github.io/linux/Linux2_day2/";  /* Replace PAGE_URL with your page's canonical URL variable */
      this.page.identifier = "/linux/Linux2_day2"; /* Replace PAGE_IDENTIFIER with your page's unique identifier variable */
    };
    (function() { /* DON'T EDIT BELOW THIS LINE */
      var d = document, s = d.createElement('script');
      s.src = 'https://ictechgy-github-io.disqus.com/embed.js';
      s.setAttribute('data-timestamp', +new Date());
      (d.head || d.body).appendChild(s);
    })();
  </script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>


  





  </body>
</html>
